{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}–ß–∏—Ç–∞—Ç–µ–ª—å—Å–∫–∏–π –¥–Ω–µ–≤–Ω–∏–∫{% endblock %}</title>
  <link rel="stylesheet" href="{% static 'css/style.css' %}" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&family=Playfair+Display&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Caveat&family=Inter:wght@400;600&family=Lora:wght@400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body>
  <header class="header">
    <div class="container header__container">
      <a href="{% url 'index' %}" class="header__logo">–ß–∏—Ç–∞—Ç–µ–ª—å—Å–∫–∏–π –¥–Ω–µ–≤–Ω–∏–∫</a>
      <nav class="nav">
        <ul class="nav__list">
            {% if user.is_authenticated %}

            <li><a class="nav-item nav-link" href="{% url 'profile' %}"><i class="fas fa-user" style="transform: scale(1.1);"></i></a></li>
            <li><a class="nav-item nav-link" href="{% url 'logout' %}"><i class="fas fa-sign-in-alt" style="transform: scale(1.3);"></i></a></li>
            {% else %}
            
            <li><a class="nav-item nav-link" href="{% url 'login' %}">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</a></li>
            <li><a class="nav-item nav-link" href="{% url 'register' %}">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a></li> 

            {% endif %}
            
          {% comment %}
          <li><a href="{% url 'profile' %}" class="nav__link">–ü—Ä–æ—Ñ–∏–ª—å</a></li>
          <li><a href="{% url 'user_books' %}" class="nav__link">–ú–æ–∏ –∫–Ω–∏–≥–∏</a></li>
          <li><a href="{% url 'catalog' %}" class="nav__link nav__link--active">–ö–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥</a></li>
           <li><a href="{% url 'genres' %}" class="nav__link">–ñ–∞–Ω—Ä—ã</a></li>
          <li><a href="{% url 'genres_and_authors' %}" class="nav__link">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</a></li>
          <li><a href="{% url 'diary' %}" class="nav__link">–î–Ω–µ–≤–Ω–∏–∫</a></li>
          {% endcomment %}
        </ul>
        
      </nav>
    </div>
  </header>


  <div class="main container">
    {% block content %}{% endblock %}
  </div>






  <footer class="footer">
    <div class="container footer__container">
      <p>¬© 2025 –ß–∏—Ç–∞—Ç–µ–ª—å—Å–∫–∏–π –¥–Ω–µ–≤–Ω–∏–∫</p>
    </div>
  </footer>
  <script>
  const toggleBtn = document.getElementById('theme-toggle');
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

  // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–º—É –∏–∑ localStorage –∏–ª–∏ —Å–∏—Å—Ç–µ–º–Ω—É—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  if (localStorage.getItem('theme') === 'dark' || (!localStorage.getItem('theme') && prefersDark)) {
    document.body.classList.add('dark-theme');
    toggleBtn.textContent = '‚òÄÔ∏è';
  }

  toggleBtn.addEventListener('click', () => {
    document.body.classList.toggle('dark-theme');
    const isDark = document.body.classList.contains('dark-theme');
    toggleBtn.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  });
</script>

</body>
</html>
